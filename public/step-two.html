<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Avianca - Booking</title>

  <!-- Fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;600;700;800;900&family=Lato:wght@300;400;700&display=swap" rel="stylesheet" />

  <!-- Estilos base del proyecto -->
  <link rel="stylesheet" href="./css/normalize.css" />
  <link rel="stylesheet" href="./css/flight.css" />
  <link rel="stylesheet" href="./css/main.css" />
  <link rel="stylesheet" href="./css/flights-ui.css" />

  <!-- =================== SOLO VISUAL (sin tocar conexiones/JS) =================== -->
  <style>
    /* â€”â€”â€” Header consistente â€”â€”â€” */
    header.next-step{position:sticky;top:0;z-index:1000;background:#0f1115;color:#fff;box-shadow:0 6px 14px rgba(0,0,0,.08)}
    .next-step{display:flex;align-items:center;gap:16px;flex-wrap:wrap;padding:10px 16px}
    .next-step .ns-step{display:flex;align-items:center;gap:12px}
    .next-step .ns-step:nth-child(1){flex:0 0 auto}
    .next-step .ns-step:nth-child(2){flex:1 1 auto;min-width:0}
    .next-step .ns-step:nth-child(3){flex:0 0 auto}
    .ns-logo{height:26px;width:auto;display:block}
    .ns-route{min-width:0}
    .ns-route-main{margin:0;font-weight:800;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .ns-route-date{margin:0;font-size:12px;color:#d1d5db;white-space:nowrap}
    .ns-badge{background:#1f2937;color:#fff;padding:4px 10px;border-radius:999px;font-weight:700;font-size:12px}
    .ns-progress{width:120px;height:8px;background:#111827;border-radius:999px;overflow:hidden}
    .ns-progress>span{display:block;height:100%;background:#de0108;width:40%}
    .next-step a.btn,.next-step .btn.btn-gray{background:transparent!important;border:1px solid rgba(255,255,255,.45);color:#fff;padding:6px 12px;border-radius:999px;font-weight:800;white-space:nowrap}
    .next-step a.btn:hover,.next-step .btn.btn-gray:hover{background:rgba(255,255,255,.08)!important}

    /* ðŸš« Quitar ruta/fecha del header (para que NO se repita) */
    .next-step .ns-route{display:none!important}

    /* â€”â€”â€” Fondo global BLANCO â€”â€”â€” */
    html,body{background:#fff !important}
    body.bg-gray{background:#fff !important}
    .main-form, .container, .content, .wrapper, .booking-container{background:transparent !important}

    /* â€”â€”â€” Cards / Inputs â€”â€”â€” */
    .main-form{max-width:1160px;margin:0 auto;padding:12px 16px 88px}
    .form-section{
      background:#fff;border:1px solid rgba(2,6,23,.06);
      border-radius:22px;box-shadow:0 8px 30px rgba(16,24,40,.06);
      padding:16px;overflow:hidden;
    }
    @media (min-width:768px){.form-section{padding:24px}}
    .form-section + .form-section{margin-top:28px}
    .main-form hr{display:none}

    .form-title{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .form-info{display:flex;align-items:center}

    .form-control input[type="text"],
    .form-control input[type="email"],
    .form-control input[type="number"],
    .form-control input[type="tel"],
    .form-control select{
      box-sizing:border-box;width:100%;max-width:100%;
      height:52px;border-radius:14px;border:1px solid #e5e7eb;padding:0 14px;
      outline:none;background:#fff;transition:box-shadow .15s,border-color .15s;font-size:16px
    }
    .form-control input:focus,.form-control select:focus{border-color:#de0108;box-shadow:0 0 0 3px rgba(222,1,8,.12)}
    .btn.btn-gray{border-radius:14px;padding:12px 18px;font-weight:800}
    #select-passengers{width:100%;max-width:100%}
    .checkbox-group{display:flex;align-items:flex-start;gap:10px}

    /* â€”â€”â€” Footer limpio â€”â€”â€” */
    .footer-fixed-2{position:sticky;bottom:0;background:#fff;border-top:1px solid #e5e7eb;z-index:900}
    .footer-flight-resume{display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap;padding:10px 16px;max-width:1160px;margin:0 auto}
    .footer-flight-resume h4{margin:0}.footer-flight-resume .fs-5{margin:0;color:#6b7280}
    .footer-left p{margin:0}
    .footer-date{font-size:12px;color:#6b7280;margin-top:4px}
  </style>
</head>

<body class="mvh-100 bg-gray">
  <!-- LOADER -->
  <div class="loader show">
    <img src="./assets/svg/plane-loader.gif" alt="Cargando" />
  </div>

  <!-- HEADER -->
  <header class="next-step">
    <div class="ns-step">
      <img class="ns-logo" src="./assets/logos/avianca_red.svg" alt="Avianca" />
    </div>
    <div class="ns-step">
      <!-- ns-route oculto por CSS para evitar duplicado -->
      <div class="ns-route">
        <h3 id="ns-route" class="ns-route-main">UIO â†’ GPS</h3>
        <p id="ns-date" class="ns-route-date">Mar, 17 Sep 2024 â€¢ 08:45</p>
      </div>
    </div>
    <div class="ns-step">
      <span class="ns-badge">Paso 2 de 5</span>
      <div class="ns-progress"><span></span></div>
      <a class="btn btn-gray" href="#">Resumen</a>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <div class="main-form mb-10">
      <form id="next-step" class="form-control">

        <!-- SECCIÃ“N 1 -->
        <div class="form-section">
          <div class="form-title">
            <h2>Datos personales</h2>
            <img src="./assets/svg/arrow_top.png" alt="">
          </div>

          <select id="select-passengers"></select>

          <h3>Pasajero - <span id="editing-label">Adulto 1</span></h3>
          <p class="fs-4">Ingresa el nombre y primer apellido (de cada pasajero) tal y como aparecen en el pasaporte o documento de identidad. TambiÃ©n, agrega el nÃºmero de viajero frecuente LifeMiles o de una aerolÃ­nea aliada para disfrutar de mÃ¡s beneficios.</p>

          <input id="name" class="mt-5" type="text" placeholder="Nombre" />
          <span name="name-error" class="input-error-label">Por favor, ingresa tu primer nombre</span>

          <input id="surname" class="mt-4" type="text" placeholder="Apellido" />
          <span name="surname-error" class="input-error-label">Por favor, ingresa tu primer apellido</span>

          <div class="checkbox-group mt-4">
            <input class="check" type="checkbox" />
            <label for="">Tengo un nÃºmero de viajero frecuente <span class="bold-gray">LifeMiles</span> o de otra aerolÃ­nea aliada (opcional).</label>
          </div>
          <div class="checkbox-group mt-2">
            <input class="check" type="checkbox" />
            <label for="">Necesito asistencia especial (opcional)</label>
          </div>

          <div class="mt-4 show justify-content-center">
            <button id="btn-next-passenger" type="button" class="btn btn-gray">PrÃ³ximo Pasajero</button>
          </div>
        </div>

        <!-- SECCIÃ“N 2 -->
        <div class="form-section">
          <div class="form-info">
            <img src="./assets/svg/tel_icon.png" alt="" width="25" height="25" style="margin-right: 12px;">
            <div>
              <p class="fs-2">InformaciÃ³n de contacto</p>
              <p class="fs-4 mt-2">Estos datos serÃ¡n utilizados para informarte sobre tu reserva.</p>
            </div>
          </div>

          <input id="email" class="mt-5" type="email" placeholder="Correo" />
          <span name="name-error" class="input-error-label">Por favor, ingresa tu correo</span>

          <input id="number" class="mt-4" type="number" placeholder="NÃºmero de telÃ©fono" oninput="limitDigits(this, 10)" />
          <span name="name-error" class="input-error-label">Por favor, ingresa tu nÃºmero de telÃ©fono</span>

          <div class="checkbox-group mt-4">
            <input class="check" type="checkbox" id="promo-check" />
            <label for="promo-check">Acepto el uso de mis datos personales para recibir promociones, ofertas y novedades que Avianca tiene para mÃ­.</label>
          </div>

          <div class="mt-4 show justify-content-center">
            <button type="submit" class="btn btn-gray">Continuar a pagar</button>
          </div>
        </div>

      </form>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="footer-fixed-2">
    <div class="footer-flight-resume">
      <div class="footer-left">
        <p class="mb-1">Resumen del viaje:</p>
        <div class="show align-items-center">
          <h4 id="origin-code">BOG</h4>
          <img src="./assets/svg/arrow.png" width="14" alt="â†’">
          <h4 id="destination-code">CLI</h4>
        </div>
        <!-- aquÃ­ pondremos fecha/hora copiada del header -->
        <p id="footer-date" class="footer-date"></p>
      </div>
      <div>
        <h4 class="text-end mt-1">$<span id="flight-cost">49.999</span> USD</h4>
        <p class="fs-5">Total de tu reserva:</p>
        <img src="./assets/svg/info_icon.png" width="15" alt="info">
      </div>
    </div>
    <p class="mt-2 mb-2" style="text-align:center; color:#9ca3af;">Â© Avianca S.A 2024</p>
  </footer>

  <!-- SCRIPTS (sin cambios) -->
  <script src="./js/functions.js"></script>
  <script src="./js/step-two.js"></script>

  <!-- Mini-bridge: copia ruta/fecha del header al resumen de abajo (no rompe si faltan) -->
  <script>
    (function () {
      try {
        var routeEl = document.getElementById('ns-route');
        var dateEl  = document.getElementById('ns-date');
        var footerDate = document.getElementById('footer-date');
        if (footerDate && (routeEl || dateEl)) {
          var parts = [];
          if (routeEl && routeEl.textContent.trim()) parts.push(routeEl.textContent.trim());
          if (dateEl && dateEl.textContent.trim())  parts.push(dateEl.textContent.trim());
          footerDate.textContent = parts.join(' â€¢ ');
        }
      } catch(e) { /* no-op */ }
    })();
  </script>
</body>
</html>
