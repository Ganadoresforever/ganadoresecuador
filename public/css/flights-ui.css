:root{
  --av-bg:#fff;
  --av-muted:#6b7280;
  --av-text:#111827;
  --av-border:#e5e7eb;
  --av-soft:#f3f4f6;
  --av-surface:#fafafa;
  --av-primary:#16a34a; /* verde del pill activo de fecha en tu captura */
  --av-shadow:0 8px 24px rgba(0,0,0,.06);
  --av-radius:16px;
}

/* Topbar */
.av-topbar{background:#0f0f0f;color:#fff;}
.av-topbar__inner{max-width:1200px;margin:0 auto;display:flex;gap:16px;align-items:center;justify-content:space-between;padding:10px 16px;}
.av-brand__logo{height:22px}
.av-summary__route{font-size:18px;margin:0;display:flex;gap:8px;align-items:center}
.av-arrow{opacity:.7}
.av-summary__meta{display:flex;gap:10px;align-items:center;font-size:13px;opacity:.9}
.av-edit{display:inline-flex;gap:6px;align-items:center;background:#fff;color:#111827;border:1px solid #ddd;border-radius:999px;padding:4px 10px;font-weight:600}
.av-progress{display:none;gap:8px;align-items:center}
.av-progress__bar{width:120px;height:6px;background:#ffffff22;border-radius:999px;overflow:hidden}
.av-progress__bar span{display:block;height:100%;background:#fff}
.av-cart{display:inline-flex;align-items:center;gap:6px;border:1px solid #fff;border-radius:999px;padding:6px 12px;color:#fff;text-decoration:none}

@media(min-width:992px){
  .av-progress{display:flex}
}

/* Contenedor principal */
.av-main{max-width:1200px;margin:0 auto;padding:16px}

/* Título sección */
.av-section-title{align-items:flex-end}
.av-h2{font-size:24px;margin:2px 0 0}

/* Filtros */
.av-filter-btn{background:#fff;border:1px solid var(--av-border);border-radius:12px;padding:8px}

/* Carrusel de fechas */
.av-dates{display:flex;align-items:center;gap:8px;margin:16px 0}
.av-dates__nav{background:#fff;border:1px solid var(--av-border);border-radius:12px;padding:8px 12px;cursor:pointer}
.av-dates__list{display:flex;gap:12px;overflow:auto;padding:4px}
.av-date{min-width:150px;background:#fff;border:1px solid var(--av-border);border-radius:16px;padding:10px 14px;text-align:center;box-shadow:var(--av-shadow)}
.av-date__day{display:block;font-weight:700}
.av-date__price{display:block;color:var(--av-muted);font-size:13px;margin-top:4px}
.av-date--active{box-shadow:0 0 0 2px var(--av-primary) inset}

/* Lista de vuelos */
.av-flights__list{display:grid;gap:14px}

/* Card de vuelo, reutilizando .card-departure */
.card-departure.av-card{
  display:grid; grid-template-columns: 1fr; gap:0;
  border:1px solid var(--av-border); border-radius:24px; background:var(--av-bg); box-shadow:var(--av-shadow);
  padding:14px;
}
@media(min-width:1100px){
  .card-departure.av-card{grid-template-columns: 1fr 240px; align-items:center; padding:0}
}

.av-card__left{padding:6px 6px 10px}
@media(min-width:1100px){ .av-card__left{padding:18px 22px} }

.av-row{display:flex;gap:10px;align-items:center;color:var(--av-muted);font-size:14px}
.av-link{color:#0ea5e9;text-decoration:none;font-weight:700}
.av-sep{opacity:.5}

.av-timeline{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:10px;margin:10px 0}
.av-time h4{margin:0;font-size:28px}
.av-time span{font-size:12px;color:var(--av-muted)}
.av-line{display:flex;align-items:center;gap:10px}
.av-dot{width:8px;height:8px;background:#0ea5e9;border-radius:999px;display:inline-block}
.av-plane{font-size:14px;opacity:.8}

.av-operator{font-size:12px;color:var(--av-muted);background:#fff;border:1px solid var(--av-border);border-radius:999px;display:inline-block;padding:6px 10px}

.best-price-label.av-badge{
  display:inline-block;background:#ecfdf5;color:#065f46;border:1px solid #bbf7d0;border-radius:999px;padding:4px 10px;font-size:12px;margin-bottom:6px
}

.av-card__right{
  border-top:1px solid var(--av-border);
  display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px 14px;background:#f9fafb;border-bottom-left-radius:24px;border-bottom-right-radius:24px
}
@media(min-width:1100px){
  .av-card__right{border-top:none;border-left:1px solid var(--av-border);height:100%;padding:22px;border-top-right-radius:24px;border-bottom-right-radius:24px;border-bottom-left-radius:0;background:#fff}
}

.av-price__label{color:var(--av-muted);font-size:12px}
.av-price{display:flex;align-items:center;gap:8px}
.av-price__amount{font-weight:900;font-size:20px}
.av-chevron{background:#f5f5f5;border:1px solid var(--av-border);border-radius:10px;padding:6px 10px;cursor:pointer}

/* Acordeón condiciones */
.av-accordion{border:1px solid var(--av-border);border-radius:16px;background:#f3f4f6}
.av-accordion__header{
  width:100%;display:flex;align-items:center;justify-content:space-between;gap:12px;
  padding:12px 16px;background:#f3f4f6;border:none;border-radius:16px;cursor:pointer;font-weight:700
}
.av-accordion__panel{padding:12px 16px;background:#fff;border-top:1px solid var(--av-border);border-bottom-left-radius:16px;border-bottom-right-radius:16px}
.av-accordion__chev{transition:transform .2s ease}
.av-accordion__header[aria-expanded="true"] .av-accordion__chev{transform:rotate(180deg)}

/* Utilidades */
.av-dot{background:#0ea5e9}
.av-section-title{display:flex;align-items:center;justify-content:space-between}

/* ==== HOTFIX: panel de precio compacto en desktop ==== */
@media (min-width:1100px){
  /* La tarjeta mantiene 2 columnas pero la de precio será "auto" */
  .card-departure.av-card{
    grid-template-columns: 1fr auto; /* antes: 1fr 240px */
    padding-right: 22px;              /* espacio interior derecho */
    overflow: hidden;                 /* asegura radios limpios */
  }

  /* Panel de precio como "tarjetica" centrada, no a toda la altura */
  .av-card__right{
    align-self: center;               /* centrado vertical */
    height: auto;                     /* antes: 100% (causaba la franja) */
    border-left: none;                /* quitamos el divisor vertical */
    background: #fff;
    border: 1px solid var(--av-border);
    border-radius: 16px;
    padding: 14px 16px;
    margin-left: 16px;                /* respiración con la columna izquierda */
    box-shadow: var(--av-shadow);
  }

  /* Micro detalles visuales */
  .av-price__label{ display:block; text-align:left; margin-bottom:4px; }
  .av-price{ gap:10px; }
  .av-chevron{ padding:6px 8px; }
}

/* ===== MODAL TARIFAS — LOOK AVIANA MODERNO ===== */

/* Contenedor del modal (fondo suave + panel centrado)
   NOTA: si tu JS usa .show/.open para abrir el modal, estas reglas ya aplican */
#modal-select-ticket{
  position: fixed; inset: 0;
  display: none; /* tu JS decide cuándo mostrar */
  align-items: center; justify-content: center;
  padding: 24px;
  z-index: 9999;
  background: rgba(17,24,39,.45); /* overlay */
  -webkit-backdrop-filter: blur(3px);
  backdrop-filter: blur(3px);
}

/* Estados comunes de apertura (usa el que tengas) */
#modal-select-ticket.show,
#modal-select-ticket.open,
#modal-select-ticket.active,
#modal-select-ticket[aria-hidden="false"]{
  display: flex;
}

/* Panel */
#modal-select-ticket .modal-header,
#modal-select-ticket .ticket-label,
#modal-select-ticket .modal-body{
  width: 100%;
  max-width: 1100px;
}

/* Encabezado del modal */
#modal-select-ticket .modal-header{
  display: flex; align-items: center; gap: 12px;
  background: #fff; color:#111827;
  border: 1px solid #e5e7eb; border-bottom: none;
  border-top-left-radius: 22px; border-top-right-radius: 22px;
  padding: 12px 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
}
#modal-select-ticket .modal-header p{ font-weight:800; margin:0 }

/* Etiqueta ECONÓMICA */
#modal-select-ticket .ticket-label{
  background: #fff; border-left:1px solid #e5e7eb; border-right:1px solid #e5e7eb;
  padding: 8px 16px; text-align:left;
}
#modal-select-ticket .ticket-label p{
  display:inline-block; margin:0;
  font-weight:800; letter-spacing:.02em; color:#6b7280;
}

/* Body como “sheet” suave */
#modal-select-ticket .modal-body{
  background:#fff; border: 1px solid #e5e7eb;
  border-bottom-left-radius: 22px; border-bottom-right-radius: 22px;
  padding: 18px;
  box-shadow: 0 18px 50px rgba(0,0,0,.10);
  animation: av-sheet-in .25s ease-out both;
}
@keyframes av-sheet-in{
  from{ transform: translateY(12px) scale(.98); opacity: 0 }
  to{ transform: translateY(0) scale(1); opacity: 1 }
}

/* Título centrado “Elige cómo quieres volar” (si lo agregas) */
#modal-select-ticket .av-choose-title{
  text-align:center; font-weight:800; margin:10px 0 18px;
}

/* ===== GRID DE TARIFAS ===== */
#modal-select-ticket .modal-body{
  /* grid envolvente */
  display: grid;
  grid-template-columns: 1fr;
  gap: 18px;
}
@media(min-width: 900px){
  #modal-select-ticket .modal-body{
    grid-template-columns: repeat(3, 1fr);
    gap: 22px;
  }
}

/* Cada columna usa el wrapper que ya tienes: .card-container.{xs|s|m} */
#modal-select-ticket .card-container{
  display: grid; grid-template-rows: auto auto;
  border-radius: 22px; border:1px solid #e5e7eb; background:#fff;
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
  transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
}
#modal-select-ticket .card-container:hover{
  transform: translateY(-2px);
  box-shadow: 0 14px 40px rgba(0,0,0,.10);
  border-color:#e5e7eb;
}

/* Tarjeta interior con el listado de beneficios */
#modal-select-ticket .card-ticket{
  padding: 18px 18px 10px 18px;
}
#modal-select-ticket .card-ticket-type{
  margin: 0 0 4px 0;
  font-weight: 900; text-transform: capitalize; letter-spacing:.2px;
  color:#e0163a; /* por defecto rojo Avianca */
}
#modal-select-ticket .card-ticket-label{
  margin: 0 0 14px 0; color:#6b7280; font-weight:700;
}
#modal-select-ticket .card-ticket-items{
  display:grid; gap: 10px;
}
#modal-select-ticket .card-ticket-items .ct-item{
  display:flex; align-items:center; gap:8px; font-size: 14px; color:#111827;
}

/* Header de precio (el botón de seleccionar) */
#modal-select-ticket .card-ticket-header{
  display: grid; place-items:center;
  border-top:1px solid #f1f5f9;
  padding: 14px;
  border-bottom-left-radius: 22px; border-bottom-right-radius: 22px;
  cursor: pointer; user-select: none;
  transition: filter .12s ease;
}
#modal-select-ticket .card-ticket-header:hover{ filter: brightness(.98); }
#modal-select-ticket .card-ticket-header h6{
  margin:0; font-size: 18px; font-weight: 900;
}
#modal-select-ticket .card-ticket-header p{
  margin:4px 0 0 0; font-size:12px; color:#6b7280;
}

/* ===== COLORES POR PLAN ===== */
/* BASIC (xs) -> Rojo Avianca */
#modal-select-ticket .card-container.xs .card-ticket-type{ color:#e0163a; }
#modal-select-ticket .card-container.xs .card-ticket-header{
  background:#e0163a; color:#fff;
}

/* CLASSIC (s) -> Recomendado (morado) */
#modal-select-ticket .card-container.s{
  border:2px solid #7c3aed; /* morado */
  position: relative;
}
#modal-select-ticket .card-container.s .card-ticket-type{ color:#7c3aed; }
#modal-select-ticket .card-container.s .card-ticket-header{
  background:#7c3aed; color:#fff;
}
/* Cinta “Recomendada” */
#modal-select-ticket .card-container.s::before{
  content:"Recomendada";
  position:absolute; top:-12px; right:14px;
  background:#16a34a; color:#fff; font-weight:800; font-size:12px;
  padding:4px 10px; border-radius:999px; box-shadow: 0 4px 12px rgba(0,0,0,.12);
}

/* FLEX (m) -> Naranja */
#modal-select-ticket .card-container.m .card-ticket-type{ color:#f97316; }
#modal-select-ticket .card-container.m .card-ticket-header{
  background:#f97316; color:#fff;
}

/* Íconos dentro de la lista (ligero tamaño y alineación) */
#modal-select-ticket .card-ticket-items .ct-item img{ width:18px; height:18px }

/* Botón cerrar (flecha) mejor “clickeable” */
#modal-select-ticket .modal-header img#modal-close-ticket{
  padding:8px; border-radius:10px; transition: background .12s ease;
}
#modal-select-ticket .modal-header img#modal-close-ticket:hover{
  background:#f3f4f6;
}

/* ===== MODO MÓVIL: estilo “bottom sheet” ===== */
@media(max-width: 768px){
  #modal-select-ticket{
    align-items: flex-end; /* baja tipo hoja */
    padding: 0;
  }
  #modal-select-ticket .modal-header,
  #modal-select-ticket .ticket-label,
  #modal-select-ticket .modal-body{
    width: 100%; max-width: none;
  }
  #modal-select-ticket .modal-body{
    border-bottom-left-radius: 0; border-bottom-right-radius: 0;
    animation: av-sheet-in-mobile .22s ease-out both;
  }
  @keyframes av-sheet-in-mobile{
    from{ transform: translateY(16px); opacity: 0 }
    to{ transform: translateY(0); opacity: 1 }
  }
}


/* ======= TARIFAS INLINE (se despliegan debajo del vuelo) ======= */
.av-inline-fares{
  margin: 12px 0 18px;
  border: 1px solid var(--av-border);
  border-radius: 24px;
  background:#fff;
  box-shadow: var(--av-shadow);
  padding: 18px;
  animation: av-expand .22s ease-out both;
}
@keyframes av-expand{ from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none} }

.av-inline-fares .av-choose-title{
  text-align:center; font-weight:800; margin:10px 0 18px;
}

/* Grid de 3 columnas (desktop) / 1 (móvil) */
.av-fares-grid{ display:grid; grid-template-columns:1fr; gap:18px; }
@media(min-width:900px){ .av-fares-grid{ grid-template-columns:repeat(3,1fr); gap:22px; } }

/* Reuso del look de las cards del modal, pero para inline */
.av-inline-fares .card-container{
  display:grid; grid-template-rows:auto auto;
  border-radius:22px; border:1px solid #e5e7eb; background:#fff;
  box-shadow:0 8px 24px rgba(0,0,0,.06);
  transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
}
.av-inline-fares .card-container:hover{
  transform: translateY(-2px);
  box-shadow:0 14px 40px rgba(0,0,0,.10);
  border-color:#e5e7eb;
}
.av-inline-fares .card-ticket{ padding:18px 18px 10px 18px; }
.av-inline-fares .card-ticket-type{ margin:0 0 4px; font-weight:900; text-transform:capitalize; letter-spacing:.2px; color:#e0163a; }
.av-inline-fares .card-ticket-label{ margin:0 0 14px; color:#6b7280; font-weight:700; }
.av-inline-fares .card-ticket-items{ display:grid; gap:10px; }
.av-inline-fares .card-ticket-items .ct-item{ display:flex; align-items:center; gap:8px; font-size:14px; color:#111827; }
.av-inline-fares .card-ticket-items .ct-item img{ width:18px; height:18px; }

.av-inline-fares .card-ticket-header{
  display:grid; place-items:center; border-top:1px solid #f1f5f9;
  padding:14px; border-bottom-left-radius:22px; border-bottom-right-radius:22px;
  cursor:pointer; user-select:none; transition:filter .12s ease;
}
.av-inline-fares .card-ticket-header:hover{ filter:brightness(.98); }
.av-inline-fares .card-ticket-header h6{ margin:0; font-size:18px; font-weight:900; }
.av-inline-fares .card-ticket-header p{ margin:4px 0 0; font-size:12px; color:#6b7280; }

/* Colores por plan (igual que el modal) */
.av-inline-fares .card-container.xs .card-ticket-type{ color:#e0163a; }
.av-inline-fares .card-container.xs .card-ticket-header{ background:#e0163a; color:#fff; }

.av-inline-fares .card-container.s{ border:2px solid #7c3aed; position:relative; }
.av-inline-fares .card-container.s .card-ticket-type{ color:#7c3aed; }
.av-inline-fares .card-container.s .card-ticket-header{ background:#7c3aed; color:#fff; }
.av-inline-fares .card-container.s::before{
  content:"Recomendada"; position:absolute; top:-12px; right:14px;
  background:#16a34a; color:#fff; font-weight:800; font-size:12px;
  padding:4px 10px; border-radius:999px; box-shadow:0 4px 12px rgba(0,0,0,.12);
}

.av-inline-fares .card-container.m .card-ticket-type{ color:#f97316; }
.av-inline-fares .card-container.m .card-ticket-header{ background:#f97316; color:#fff; }

/* ===== Ajustes: tarifas inline compactas + alturas iguales ===== */
.av-inline-fares{ position: relative; }

/* top bar con botón cerrar */
.av-inline-fares__top{
  display:flex; align-items:center; justify-content:space-between;
  margin:4px 0 14px 0;
}
.av-inline-close{
  border:1px solid #e5e7eb; background:#fff; border-radius:999px;
  padding:6px 10px; font-weight:700; cursor:pointer;
  box-shadow:0 4px 10px rgba(0,0,0,.06);
}
.av-inline-close:hover{ background:#f8fafc; }

/* que todas las columnas estiren la misma altura */
.av-fares-grid{ align-items: stretch; }

/* cada tarjeta: usar flex para empujar el footer al fondo */
.av-inline-fares .card-container{
  display:flex; flex-direction:column; height:100%;
}

/* el contenido crece; el footer queda fijo abajo */
.av-inline-fares .card-ticket{ flex:1; padding:18px 18px 10px 18px; }

.av-inline-fares .card-ticket-header{
  display:flex; align-items:center; justify-content:center;
  min-height:56px; /* compacto */
  padding:10px 14px;
}

/* tipografías y pesos del precio */
.av-inline-fares .card-ticket-header h6{ margin:0; font-size:16px; font-weight:900; }
.av-inline-fares .card-ticket-header p{ margin:4px 0 0; font-size:12px; color:#ffffffcc; }

/* pequeños radios y sombras uniformes */
.av-inline-fares .card-container{
  border-radius:18px; box-shadow:0 8px 24px rgba(0,0,0,.06);
}
.av-inline-fares .card-container.s{ border-width:2px; }

/* en pantallas grandes, limita el ancho visual del bloque */
@media(min-width:1100px){
  .av-inline-fares{ padding:20px 24px; }
}

/* ==== COMPAT: Back page usa av-card/av-card__main/av-card__side ==== */

/* base de la card */
.av-card{
  display:grid; grid-template-columns: 1fr; gap:0;
  border:1px solid var(--av-border); border-radius:24px; background:var(--av-bg); box-shadow:var(--av-shadow);
  padding:14px;
}
@media(min-width:1100px){
  .av-card{ grid-template-columns: 1fr auto; padding-right:22px; overflow:hidden; }
}

/* columna izquierda (alias de .av-card__left) */
.av-card__main{ padding:6px 6px 10px; }
@media(min-width:1100px){ .av-card__main{ padding:18px 22px; } }

/* columna derecha (alias de .av-card__right) */
.av-card__side{
  border-top:1px solid var(--av-border);
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:12px 14px; background:#f9fafb;
  border-bottom-left-radius:24px; border-bottom-right-radius:24px;
}
@media(min-width:1100px){
  /* versión compacta tipo “tarjetica” */
  .av-card__side{
    align-self:center;
    height:auto;
    border-left:none;
    background:#fff;
    border:1px solid var(--av-border);
    border-radius:16px;
    padding:14px 16px;
    margin-left:16px;
    box-shadow:var(--av-shadow);
  }
}

/* Topbar simple para el back */
.av-topbar{display:flex; align-items:center; justify-content:space-between; padding:10px 16px}
.av-topbar__left, .av-topbar__center, .av-topbar__right{display:flex; align-items:center; gap:12px}

/* ===== Topbar fija sin tapar contenido ===== */
:root { --av-topbar-h: 0px; }                  /* la setea JS */

.av-topbar{
  position: fixed;                             /* barra fija (como te gusta) */
  top: 0; left: 0; right: 0;
  z-index: 1000;
}

/* Reserva espacio arriba para que no se oculte nada */
.has-topbar main,
.has-topbar .av-main{
  padding-top: calc(var(--av-topbar-h) + 12px); /* +12px de aire visual */
}

/* ==== Footer libre (no fijo) en páginas de vuelos ==== */
.av-main ~ .footer-fixed{
  position: static !important;
  background: transparent;
  border: 0;
  box-shadow: none;
  margin-top: 24px;
}
.footer-fixed p{ text-align:center; color:#6b7280; }

/* ==== Acordeón Condiciones ==== */
.av-terms{max-width:1200px; margin:24px auto;}
.av-accordion__header{
  width:100%;display:flex;align-items:center;justify-content:space-between;gap:12px;
  padding:12px 16px;background:#f3f4f6;border:1px solid var(--av-border);
  border-radius:16px;cursor:pointer;font-weight:800;
}
.av-accordion__chev{transition:transform .2s ease}
.av-accordion__header[aria-expanded="true"] .av-accordion__chev{transform:rotate(180deg)}
.av-accordion__panel{
  padding:16px;background:#fff;border:1px solid var(--av-border);
  border-top:none;border-bottom-left-radius:16px;border-bottom-right-radius:16px
}

.av-terms h3{margin:14px 0 8px;font-weight:900}
.av-terms .av-list{display:grid;gap:8px;padding-left:18px}
.av-terms .av-table{width:100%;border-collapse:collapse;margin:10px 0 18px}
.av-terms .av-table th,
.av-terms .av-table td{border-bottom:1px solid var(--av-border);padding:10px 8px;text-align:left}
.av-terms .av-table th{color:#6b7280;font-weight:800}

/* ===== Footer NO fijo solo en páginas de vuelos (sin tocar HTML) ===== */
.modal + .footer-fixed,
#modal-select-ticket + .footer-fixed{
  position: static !important;
  bottom: auto !important;
  left: auto !important;
  right: auto !important;
  width: auto !important;
  z-index: auto !important;

  background: transparent;
  border: 0;
  box-shadow: none;

  margin-top: 24px;
  padding: 12px 0;
  text-align: center;
  color: #6b7280; /* gris suave del texto */
}

@media (max-width: 640px){
  .modal + .footer-fixed,
  #modal-select-ticket + .footer-fixed{
    padding-bottom: 16px;
  }
}
